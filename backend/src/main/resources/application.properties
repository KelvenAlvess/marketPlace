# ===================================
# Server Configuration
# ===================================
server.port=8081
server.servlet.context-path=/
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param

# ===================================
# Active Profile
# ===================================
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# ===================================
# Database Configuration - Development (H2)
# ===================================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:h2:mem:marketplace_db;DB_CLOSE_ON_EXIT=FALSE;DB_CLOSE_DELAY=-1;MODE=PostgreSQL}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER:org.h2.Driver}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:sa}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# ===================================
# JPA/Hibernate Configuration
# ===================================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.use_sql_comments=true
spring.jpa.properties.hibernate.dialect=${SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT:org.hibernate.dialect.H2Dialect}
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.open-in-view=false

# ===================================
# Connection Pool (HikariCP)
# ===================================
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000

# ===================================
# Logging Configuration
# ===================================
logging.level.root=INFO
logging.level.com.example.marketPlace=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ===================================
# Swagger/OpenAPI Configuration
# ===================================
springdoc.api-docs.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true

# ===================================
# Jackson/JSON Configuration
# ===================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.default-property-inclusion=non_null

# ===================================
# Validation Configuration
# ===================================
spring.web.resources.add-mappings=false

# ===================================
# DevTools Configuration
# ===================================
spring.devtools.restart.enabled=true
spring.devtools.livereload.enabled=true
spring.devtools.restart.poll-interval=2s
spring.devtools.restart.quiet-period=1s

# ===================================
# Multipart/Upload Configuration
# ===================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ===================================
# Security Configuration (BCrypt)/JWT
# ===================================
security.bcrypt.strength=10
jwt.secret=minha-super-chave-secreta-jwt-marketplace-2026-ultra-segura
jwt.expiration=86400000

# ===================================
# Application Custom Properties
# ===================================
app.name=MarketPlace API
app.version=1.0.0
app.description=Marketplace system with product, order and payment management
# Mercado Pago
mercadopago.access.token=${MERCADO_PAGO_ACCESS_TOKEN:TEST-115918252371439-011820-13972a58589b65487bd392512e69e996-1171424632}

# RabbitMQ Configuration
# Use localhost quando rodar localmente, e 'rabbitmq' quando rodar no Docker
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:user}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:password}

# Configura��o de E-mail (Gmail)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=kelvengomes123321@gmail.com
spring.mail.password=bstjkzcbgzmbbxne
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

melhorenvio.url=https://sandbox.melhorenvio.com.br/api/v2/me/shipment/calculate
melhorenvio.token=eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI5NTYiLCJqdGkiOiI4M2NjZDI5ZWUxM2E3NGY2YjQ4YjZhODk2NmM4ZjI0MDkwMzRhNTlmMDAxYzhiNjg4Njk5MzNiMmE2N2M1MTI5MDhmNjU3Y2FkNTg5NWZlZCIsImlhdCI6MTc3MDcwMTQxNC42ODY4NjUsIm5iZiI6MTc3MDcwMTQxNC42ODY4NjgsImV4cCI6MTgwMjIzNzQxNC42Nzg5NjUsInN1YiI6ImExMDBiZTg2LTJiMjMtNDE3MC04NTRhLWVlOWY5YTY3MWEyZSIsInNjb3BlcyI6WyJjYXJ0LXJlYWQiLCJjYXJ0LXdyaXRlIiwiY29tcGFuaWVzLXJlYWQiLCJjb21wYW5pZXMtd3JpdGUiLCJjb3Vwb25zLXJlYWQiLCJjb3Vwb25zLXdyaXRlIiwibm90aWZpY2F0aW9ucy1yZWFkIiwib3JkZXJzLXJlYWQiLCJwcm9kdWN0cy1yZWFkIiwicHJvZHVjdHMtZGVzdHJveSIsInByb2R1Y3RzLXdyaXRlIiwicHVyY2hhc2VzLXJlYWQiLCJzaGlwcGluZy1jYWxjdWxhdGUiLCJzaGlwcGluZy1jYW5jZWwiLCJzaGlwcGluZy1jaGVja291dCIsInNoaXBwaW5nLWNvbXBhbmllcyIsInNoaXBwaW5nLWdlbmVyYXRlIiwic2hpcHBpbmctcHJldmlldyIsInNoaXBwaW5nLXByaW50Iiwic2hpcHBpbmctc2hhcmUiLCJzaGlwcGluZy10cmFja2luZyIsImVjb21tZXJjZS1zaGlwcGluZyIsInRyYW5zYWN0aW9ucy1yZWFkIiwidXNlcnMtcmVhZCIsInVzZXJzLXdyaXRlIiwid2ViaG9va3MtcmVhZCIsIndlYmhvb2tzLXdyaXRlIiwid2ViaG9va3MtZGVsZXRlIiwidGRlYWxlci13ZWJob29rIl19.KmwjZXr5-4DpG5TScBVdEdUV8lweXcmRerS1iNqzJPByMBILvEWK7BiZQA_U2S0TA9dYcigjHZMNYAp9iZ9AKTeXVAfgdxrhC5X4U7TQPKUL-sU9AgiWAXK57GVPL8kw2Gm3OdqZQ_vHugfXA_G8oWXF4KC90xlj2LwXu3oz2r_JginNYQqJRt3keMGq1bF9T9R4EwziECbjBthc8g8V69spANJYmbEyrfM4VEr8odB2s5c2ID3oISwfSe7tvXV2tLTNPy6UHl41fgBa7NOQdcYsLBB9W5wAC3BMmryMMstBWsg9H6-hpYtW2d2wa0dPt8M1MgCm0Gi3NW_pDvnTmQITOYwrQZ6Aoq1PHS7bgnM-TD0q3QrrvjXbwQDZQuMvz7B3DWLd91AI-WGgdPeqPqDjEXZYGE7MVZjMGsQGtUzyjXgdFyvPEPrTCplGL1Vq8G1gBlWkLgmrPI2nf7YRRK2FHL43D7A6-khA-pS7bHPIhZqIN3zMhdTBAla3P-b3JcxSrKtiPp8FfN2c46BbOVyMIgDdB2KsNBUyqZ8bv-lW8DFgn8IKiF8tsSe7FOgwqClepsqOcxvqcj53_alrw-f8fe-vnFj6k3XRFh2kevDSKFFDcZ66nX8S0anCP6g9DF4NednEs-tEH0diZtfxsqPbaunznvV70iJr4HyQW0s
melhorenvio.cep.origem=01001000

